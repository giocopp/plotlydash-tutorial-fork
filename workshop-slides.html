<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Interactive Graphs with Plotly and Dash</title>
    <meta charset="utf-8" />
    <meta name="author" content="Giorgio Coppola, Gayatri Shejwal, Lonny Chen" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="simons-touch.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Interactive Graphs with Plotly and Dash
]
.subtitle[
## IDS Workshop on interactive data visualization Plotly and Dash in R
]
.author[
### Giorgio Coppola, Gayatri Shejwal, Lonny Chen
]
.institute[
### Hertie School
]

---

class: inverse, center, middle
name: welcome

&lt;style type="text/css"&gt;
@media print { # print out incremental slides; see https://stackoverflow.com/questions/56373198/get-xaringan-incremental-animations-to-print-to-pdf/56374619#56374619
  .has-continuation {
    display: block !important;
  }
}
&lt;/style&gt;



# Welcome!
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/&gt;&lt;/html&gt;

---
# Introduction

Data visualization is a powerful mean to understand complex data and communicate insights effectively, revealing the hidden patterns and trends that wouldn't be obvious in tabular data, turning raw data into information.

The tools we are going to introduce today serve exactly this purpose, enhancing the visualization possibilities offered by other static visualization packages such as `ggplot2`. 

&lt;br&gt;
--
**What tools allow to do so?**

Plotly and Dash! And we will introduce both!

Indeed, `plotly` and `dash` are üí´ interactive üí´, in the sense that the user can interact with the data through the graph directly. This allows possibilities for higher understanding of the data. 

---
# Introduction
### Why interactive graphs?  üìâ

--
&lt;br&gt;
* *Engagement*: Makes data come alive (interactive) and is more engaging for users. This increase understanding and retention.

--
* *Depth*: Allows users to drill down and explore nuances, as interaction allows to create narratives more easily. Users can ask 'why' and get answers instantly by exploring the chart or graph.

--
* *Decision-making*: Facilitates more informed decisions.

&lt;br&gt;
Both `plotly` and `dash` are interactive, but we can say that the level of interaction is different: `plotly` appears very similar to a static plot, with the difference that we can hover your cursor over it, accessing further data. `dash` on the other hand, creates proper dashboards, namely HTML apps, allowing even more interaction.

---
# Plotly
### What is Plotly?

--
Plotly is actually a company headquartered in Montreal, Canada, providing online graphing, analytics, and     statistics tools, as well as scientific graphing libraries for Python, R, MATLAB, Perl, Julia, Arduino, JavaScript and REST.
    
  In this contex, with Plotly we refer to the R package for to create interactive graphs.

--
### Advantages of using Plotly

--
- Seamless integration with R and `ggplot2`, through the `ggplotly()` function, that converts your static plots to an interactive web-based version!

--
- Diverse range of plots and customization (wide array of chart types with extensive customization options), as well as the possibility to zoom in and out into the plot, or select a certain part of the plot and explore it specifically.

--
- HTML web integration of graphs, makes visualization more accessible and intuitive. 

---
# Plotly
### Some visualization examples.

A cool, non-trivial, yet not too complex, visualization that encapsulate the power of Plotly:
&lt;br&gt;
Let's track the rise of craft beer production across the US over time with the [Beer Consumption by US State Data](https://github.com/plotly/datasets/blob/master/beers.csv) üç∫, for example ???

---
# Dash
### What is Dash?

A web application framework for R (and Python and other programming languages) that allows creating interactive, web-based data dashboards (indeed), turning your interactive plots into full-blown web applications.

--
### Key features

--
- **HTML layout**: 
Design your dashboard layout using simple HTML components, without having to write any actual HTML. Indeed, it structure dashboard components using a set of pre-defined HTML tags within R.

--
- Interactivity through **callbacks**: 
callbacks define interactive behavior by specifying how input changes should modify output components. 
Essentially, when changing a dropdown or move a slider, a callback updates a chart, text, or any other component in real-time. 

--
- **Integration with Plotly** visualizations: Plotly charts can be easily included in Dash, making them part of an    
    interactive dashboard where each component can talk to others.

---
# Dash
### Some visualization examples.

A cool, non-trivial, yet not too complex, visualization that encapsulate the power of Dash:
&lt;br&gt;
Let's create a dash with a map of the public toilet in Berlin using the [Berlin Public Toilet Data](https://www.kaggle.com/datasets/ryanjt/berlin-public-toilets-location/) üöΩ, for example ???

---
class: inverse, center, middle, custom-hr
name: thank you

&lt;style type="text/css"&gt;
.custom-hr hr {
    border-color: #EB811B;
    width: 1000px;
    margin: auto;
    border-width: 1px 0 0 0;
}
&lt;/style&gt;

# Thank you!

&lt;div style="width:1000px; margin:auto;"&gt;
    &lt;hr/&gt;
&lt;/div&gt;

Now... interactive tutorial!

You find the .Rmd file in the repository. Download it and open it in your R Studio, so that you can follow us directly and complete the exercises we prepared for you directly there!

&lt;br&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"hash": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
